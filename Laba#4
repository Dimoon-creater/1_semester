#include <iostream>
#include <fstream>
#include <string>
#include <math.h>
#include <Windows.h>
using namespace std;

double enter() {
	double p;
	cout << "  Enter number: ";
	cin >> p;
	return p;
}

double test(double o) {
	while (true) {
		try {

			if (0 > o || o >= 18554) {
				throw "The number should be 0>a>18555";

			}
		}
		catch (const char* exeption) {
			cerr << "Error: " << exeption << "\n";
			return test(enter());
		}
		break;
	}
	return o;
}

int main()
{
	ofstream fout;
	fout.open("output.txt");
	cout << "Laba #2 \nDanilov Dmitry \nPib - 213 \nY = sin(Ln(1 + x) / x) * e**x\n \n";
	fout << "Laba #2 \nDanilov Dmitry \nPib - 213 \nY = sin(Ln(1 + x) / x) * e**x\n \n";

	double a, b, h, x, y;
	while (true) {

		cout << " a = "; a = test(enter()); 
		cout << "\n b = "; b = test(enter());
		cout << "\n h = "; h = test(enter());
		if (a < b && h < b) {
			break;
		}
		else {
			cout << "\n Enter correctly a < b or h < b\n";
		}
	}
	
	
	cout << "\n Start: "  << a; fout << "\n Start: " << a;
	cout << "\n End: "  << b; fout << "\n End: " << b;
	cout << "\n Step:"  << h; fout << "\n Step:" << h;
	
	x = a;
	while (x <= b) {
		y = sin(log(1 + x) / x) * exp(x);
		cout << "\n|" << x << "|" << y << "|\n";
		fout << "\n|" << x << "|" << y << "|\n";
		x = x + h;

	}

	fout.close();
}
