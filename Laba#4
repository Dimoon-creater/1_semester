#include <iostream>
#include <fstream>
#include <string>
#include <math.h>
using namespace std;

double enter() {
	double p;
	cin >> p;
	return p;
}

double test(double o) {
	while (true) {
		try {

			if (0 > o || o >= 18554) {
				throw "The number should be 0>a>18555";

			}
		}
		catch (const char* exeption) {
			cerr << "Error: " << exeption << "\n";
			return test(enter());
		}
		break;
	}
	return o;
}

int main()
{
	ofstream fout;
	fout.open("output.txt");
	cout << " Laba #4 \n Danilov Dmitry \n Pib - 213 \n Y = sin(Ln(1 + x) / x) * e**x\n \n";
	fout << " Laba #4 \n Danilov Dmitry \n Pib - 213 \n Y = sin(Ln(1 + x) / x) * e**x\n \n";

	double a, b, h, x, y, y1;
	while (true) {

		cout << " a = "; a = test(enter());
		cout << " b = "; b = test(enter());
		cout << " h = "; h = test(enter());
		if (a < b && h < b) {
			break;
		}
		else {
			cout << "\n Enter correctly a < b or h < b\n";
		}
	}


	cout << "\n Start: " << a; fout << "\n Start: " << a;
	cout << "\n End: " << b; fout << "\n End: " << b;
	cout << "\n Step: " << h << endl; fout << "\n Step: " << h << endl;

	x = a;
	y1 = sin(log(1 + x) / x) * exp(x);
	while (x <= b) {
		y = sin(log(1 + x) / x) * exp(x);
		cout << "\n |" << x << " | " << y << "|";
		fout << "\n |" << x << " | " << y << "|";
		x = x + h;

	}
	cout << endl << endl << " Extrema of function: x = " << a << " and y = " << y1 << endl;
	cout << " Extrema of function: x = " << x << " and y = " << y << endl;
	fout << endl << " Extrema of function: x = " << a << " and y = " << y1 << endl;
	fout << endl << " Extrema of function: x = " << x << " and y = " << y << endl;

	fout.close();
}
